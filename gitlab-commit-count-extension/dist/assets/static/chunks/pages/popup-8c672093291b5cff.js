(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[166],{5513:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>c});var a=r(7876),s=r(4232);let c=()=>{let[t,e]=(0,s.useState)(null),[r,c]=(0,s.useState)({}),[l,i]=(0,s.useState)(null),[n,o]=(0,s.useState)(!0),d=async()=>{try{o(!0);try{let t=await fetch("http://localhost:8000/commits");if(!t.ok)throw Error("Server responded with status: ".concat(t.status));let r=await t.json();e(r.total_commits),c(r.author_commit_count),i(null)}catch(t){console.error("Error fetching commit data:",t),i("Failed to fetch data: ".concat(t))}finally{o(!1)}}catch(t){console.error("Error fetching commit data:",t),i("Failed to fetch data: ".concat(t))}finally{o(!1)}};return(0,s.useEffect)(()=>{d()},[]),(0,a.jsxs)("div",{style:{padding:"10px",width:"250px",fontFamily:"Arial"},children:[(0,a.jsx)("h2",{children:"GitLab Commit Stats"}),n&&(0,a.jsx)("p",{children:"Loading data..."}),l?(0,a.jsxs)("div",{style:{color:"red"},children:[(0,a.jsx)("p",{children:l}),(0,a.jsx)("button",{onClick:d,children:"Retry"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["Total Commits: ",null!=t?t:"N/A"]}),(0,a.jsx)("div",{children:Object.entries(r).map(t=>{let[e,r]=t;return(0,a.jsxs)("p",{children:[e,": ",r," commits"]},e)})})]})]})}},6373:(t,e,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/popup",function(){return r(5513)}])}},t=>{var e=e=>t(t.s=e);t.O(0,[636,593,792],()=>e(6373)),_N_E=t.O()}]);