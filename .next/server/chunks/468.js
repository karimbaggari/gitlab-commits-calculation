exports.id=468,exports.ids=[468],exports.modules={15:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{r:()=>x});var n=r(8732),i=r(8275),l=r(673),a=r(4655),s=r(3504),d=r(3217),c=r(6424),h=e([c,i,l,a,d]);function x({data:e,config:t}){return(0,n.jsx)(c.at,{config:t,className:"min-h-[250px] w-full",children:(0,n.jsx)(i.u,{width:"100%",height:"100%",children:(0,n.jsxs)(l.r,{children:[(0,n.jsx)(a.F,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:e=>e.name,children:e.map((e,r)=>{let o=e.name,i=t[o]?.color||"#8884d8";return(0,n.jsx)(s.f,{fill:i},`cell-${r}`)})}),(0,n.jsx)(d.m,{formatter:e=>[`${e} commits`,"Commits"]})]})})})}[c,i,l,a,d]=h.then?(await h)():h,o()}catch(e){o(e)}})},101:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{cn:()=>a});var n=r(802),i=r(5979),l=e([n,i]);function a(...e){return(0,i.twMerge)((0,n.clsx)(e))}[n,i]=l.then?(await l)():l,o()}catch(e){o(e)}})},979:()=>{},1779:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var o=r(8732),n=r(2341);function i(){return(0,o.jsxs)(n.Html,{lang:"en",children:[(0,o.jsx)(n.Head,{}),(0,o.jsxs)("body",{className:"antialiased",children:[(0,o.jsx)(n.Main,{}),(0,o.jsx)(n.NextScript,{})]})]})}},2081:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var o=r(8732);function n({Component:e,pageProps:t}){return(0,o.jsx)(e,{...t})}r(979)},4934:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{default:()=>s});var n=r(8732),i=r(2015),l=r(15),a=e([l]);l=(a.then?(await a)():a)[0];let s=()=>{let[e,t]=(0,i.useState)("all"),[r,o]=(0,i.useState)(null),[a,s]=(0,i.useState)({}),[d,c]=(0,i.useState)([]),[h,x]=(0,i.useState)({}),[p,u]=(0,i.useState)(null),[f,g]=(0,i.useState)(!0),[b,m]=(0,i.useState)(null),[y,j]=(0,i.useState)("chart");console.log(r);let v=(e,t)=>{if("all"===t)return Object.entries(e).map(([e,t])=>({name:e,value:t}));let r="weekly"===t?.1:"monthly"===t?.3:1;return Object.entries(e).map(([e,t])=>({name:e,value:Math.round(t*r)}))},w=e=>{try{let t=new URL(e);if(!t.hostname.includes("gitlab"))return null;let r=t.pathname.split("/").filter(Boolean);if(r.length>=2){let e=t.pathname,o=e.indexOf("/-/");if(-1===o)return r[r.length-1];{let t=e.substring(1,o).split("/");return t[t.length-1]}}return null}catch(e){return console.error("Error parsing URL:",e),null}},k=(0,i.useCallback)(async()=>{if(!p){m("No GitLab project detected"),g(!1);return}try{g(!0);let e=await fetch(`https://extension-backend-production-1c13.up.railway.app/commits?projectName=${encodeURIComponent(p)}`);if(!e.ok)throw Error(`Server responded with status: ${e.status}`);let t=await e.json();o(t.total_commits),s(t.author_commit_count),m(null)}catch(e){console.error("Error fetching commit data:",e),m(`Failed to fetch data: ${e}`)}finally{g(!1)}},[p]);return(0,i.useEffect)(()=>{if(Object.keys(a).length>0){let t=v(a,e);t.sort((e,t)=>t.value-e.value);let r=["#2563eb","#60a5fa","#93c5fd","#3b82f6","#1d4ed8","#1e40af","#818cf8","#4f46e5"],o={};t.forEach((e,t)=>{o[e.name]={label:e.name,color:r[t%r.length]}}),c(t),x(o)}},[a,e]),(0,i.useEffect)(()=>{"undefined"!=typeof chrome&&chrome.tabs?chrome.tabs.query({active:!0,currentWindow:!0},e=>{let t=e[0]?.url;if(t&&t.includes("gitlab.com")){let e=w(t);u(e)}else m("Not a GitLab page"),g(!1)}):u("demo-project")},[]),(0,i.useEffect)(()=>{p&&k()},[p,k]),(0,n.jsxs)("div",{style:{width:"280px",height:"450px",padding:"8px",fontFamily:"Arial",fontSize:"12px",backgroundColor:"#f8fafc",color:"#1e293b",overflow:"auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px",borderBottom:"2px solid #3b82f6",paddingBottom:"6px",position:"sticky",top:0,backgroundColor:"#f8fafc",zIndex:10},children:[(0,n.jsx)("h1",{style:{fontSize:"15px",fontWeight:"bold",margin:0,color:"#1e40af"},children:"GitLab Stats"}),p&&(0,n.jsx)("span",{style:{color:"#475569",fontSize:"11px",maxWidth:"140px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"500"},children:p})]}),f?(0,n.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,n.jsx)("div",{style:{color:"#3b82f6",fontWeight:"bold"},children:"Loading commit data..."})}):b?(0,n.jsxs)("div",{style:{padding:"15px",color:"#b91c1c",textAlign:"center",backgroundColor:"#fee2e2",borderRadius:"6px"},children:[(0,n.jsx)("p",{style:{fontSize:"13px",fontWeight:"500",margin:"0 0 8px 0"},children:b}),(0,n.jsx)("button",{onClick:k,style:{padding:"5px 10px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Retry"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",backgroundColor:"#dbeafe",padding:"6px",borderRadius:"4px",marginBottom:"8px"},children:[(0,n.jsxs)("div",{style:{textAlign:"center",flex:1},children:[(0,n.jsx)("div",{style:{fontSize:"10px",color:"#1e40af"},children:"Commits"}),(0,n.jsx)("div",{style:{fontWeight:"bold",fontSize:"14px"},children:r?"all"===e?r:"weekly"===e?Math.round(.1*r):"monthly"===e?Math.round(.3*r):r:"Loading..."})]}),(0,n.jsxs)("div",{style:{textAlign:"center",flex:1},children:[(0,n.jsx)("div",{style:{fontSize:"10px",color:"#1e40af"},children:"Contributors"}),(0,n.jsx)("div",{style:{fontWeight:"bold",fontSize:"14px"},children:d.length})]})]}),(0,n.jsxs)("div",{style:{display:"flex",marginBottom:"8px",backgroundColor:"white",borderRadius:"4px",overflow:"hidden"},children:[(0,n.jsx)("button",{onClick:()=>j("chart"),style:{flex:1,padding:"6px 4px",backgroundColor:"chart"===y?"#3b82f6":"white",color:"chart"===y?"white":"#64748b",border:"none",cursor:"pointer",fontSize:"12px",fontWeight:"bold",borderRight:"1px solid #e2e8f0"},children:"Chart"}),(0,n.jsx)("button",{onClick:()=>j("contributors"),style:{flex:1,padding:"6px 4px",backgroundColor:"contributors"===y?"#3b82f6":"white",color:"contributors"===y?"white":"#64748b",border:"none",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Contributors"})]}),(0,n.jsx)("div",{style:{display:"flex",marginBottom:"8px",backgroundColor:"white",borderRadius:"4px",padding:"2px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:["all","yearly","monthly","weekly"].map(r=>(0,n.jsx)("button",{onClick:()=>t(r),style:{flex:1,padding:"4px 2px",backgroundColor:e===r?"#4f46e5":"transparent",color:e===r?"white":"#64748b",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"10px",fontWeight:e===r?"bold":"normal"},children:r.charAt(0).toUpperCase()+r.slice(1)},r))}),"chart"===y?(0,n.jsx)("div",{style:{backgroundColor:"white",borderRadius:"6px",padding:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:(0,n.jsx)("div",{style:{height:"280px"},children:(0,n.jsx)(l.r,{data:d,config:h})})}):(0,n.jsx)("div",{style:{backgroundColor:"white",borderRadius:"6px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},children:(0,n.jsx)("div",{style:{maxHeight:"280px",overflowY:"auto",padding:"0"},children:d.map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 8px",borderBottom:"1px solid #f1f5f9",backgroundColor:t<3?0===t?"#f0f9ff":"#f8fafc":"white"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"75%"},children:[t<3&&(0,n.jsx)("div",{style:{minWidth:"16px",height:"16px",borderRadius:"50%",marginRight:"6px",backgroundColor:h[e.name]?.color||"#ccc",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"9px"},children:t+1}),t>=3&&(0,n.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",minWidth:"8px",marginRight:"6px",backgroundColor:h[e.name]?.color||"#ccc"}}),(0,n.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:t<3?"500":"normal",fontSize:"11px"},children:e.name})]}),(0,n.jsx)("div",{style:{fontWeight:t<3?"bold":"500",color:0===t?"#1e40af":"#334155",fontSize:"11px"},children:e.value})]},e.name))})})]})]})};o()}catch(e){o(e)}})},6424:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{at:()=>h});var n=r(8732),i=r(2015),l=r(8275),a=r(3217),s=r(5471),d=r(101),c=e([d,l,a,s]);[d,l,a,s]=c.then?(await c)():c;let x={light:"",dark:".dark"},p=i.createContext(null);function h({id:e,className:t,children:r,config:o,...a}){let s=i.useId(),c=`chart-${e||s.replace(/:/g,"")}`;return(0,n.jsx)(p.Provider,{value:{config:o},children:(0,n.jsxs)("div",{"data-slot":"chart","data-chart":c,className:(0,d.cn)("[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",t),...a,children:[(0,n.jsx)(u,{id:c,config:o}),(0,n.jsx)(l.u,{children:r})]})})}let u=({id:e,config:t})=>{let r=Object.entries(t).filter(([,e])=>e.theme||e.color);return r.length?(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(x).map(([t,o])=>`
${o} [data-chart=${e}] {
${r.map(([e,r])=>{let o=r.theme?.[t]||r.color;return o?`  --color-${e}: ${o};`:null}).join("\n")}
}
`).join("\n")}}):null};a.m,s.s;o()}catch(e){o(e)}})}};